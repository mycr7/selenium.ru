---
layout: page
title: '"Почему FirefoxDriver кликает не туда?"'
joomla_id: 159
joomla_url: click-topmost-elemnt
date: 2015-09-24 06:30:00.000000000 +03:00
author: Алексей Баранцев
excerpt: "<p><strong>Примечание: описанное ниже поведение было улучшено в версии 2.52,
  почитать об этом можно <a href=\"news/170-selenium-252.html\">здесь</a>.</strong></p>\r\n<p>Я
  предвижу, что этот вопрос может возникнуть у некоторых пользователей после выхода
  версии Selenium 2.48.</p>\r\n<p>Потому что операция click с использованием синтезированных
  событий будет работать не так, как раньше. Лучше, естественно :) Но -- не так, как
  раньше. Она будет кликать по самому верхнему элементу.</p>\r\n<p><img src=\"images/blog/firefox_3d.png\"
  alt=\"\" border=\"0\" /></p>\r\n<p>Говоря технически более точно, когда у какого-то
  элемента вызывается метод click, драйвер сначала пытается проскроллировать страницу
  так, чтобы элемент оказался в области видимости, после этого он определяет положение
  и размер элемента, затем вычисляет координаты центра и кликает в эту точку. Но в
  браузере элементы располагаются \"в несколько слоёв\", это можно наглядно увидеть
  в браузере Firefox, используя режим 3D View. Поэтому в точке, куда выполняется click,
  вполне может находиться какой-то другой элемент. И тогда драйвер кликнет по этому
  вышележащему элементу, а не по тому, в котором вызывался метод click.</p>\r\n<p>Раньше
  такого эффекта можно было добиться только с использованием нативных событий. Их
  больше нет. Но зато синтезированные становятся \"более нативными\".</p>"
category: Блог
---
<p><strong>Примечание: описанное ниже поведение было улучшено в версии 2.52, почитать об этом можно <a href="news/170-selenium-252.html">здесь</a>.</strong></p>
<p>Я предвижу, что этот вопрос может возникнуть у некоторых пользователей после выхода версии Selenium 2.48.</p>
<p>Потому что операция click с использованием синтезированных событий будет работать не так, как раньше. Лучше, естественно :) Но -- не так, как раньше. Она будет кликать по самому верхнему элементу.</p>
<p><img src="images/blog/firefox_3d.png" alt="" border="0" /></p>
<p>Говоря технически более точно, когда у какого-то элемента вызывается метод click, драйвер сначала пытается проскроллировать страницу так, чтобы элемент оказался в области видимости, после этого он определяет положение и размер элемента, затем вычисляет координаты центра и кликает в эту точку. Но в браузере элементы располагаются "в несколько слоёв", это можно наглядно увидеть в браузере Firefox, используя режим 3D View. Поэтому в точке, куда выполняется click, вполне может находиться какой-то другой элемент. И тогда драйвер кликнет по этому вышележащему элементу, а не по тому, в котором вызывался метод click.</p>
<p>Раньше такого эффекта можно было добиться только с использованием нативных событий. Их больше нет. Но зато синтезированные становятся "более нативными".</p>
