---
layout: page
title: Вышел Firefox 32... А-а-а!!! Всё пропало!
joomla_id: 120
joomla_url: firefox-32
date: 2014-09-04 06:46:25.000000000 +04:00
author: Алексей Баранцев
excerpt: |-
  <p>На этой неделе вышла стабильная версия 32 браузера Firefox, и после обновления (которое у многих произошло автоматически) тесты, разработанные с использованием WebDriver, перестали выполняться в Firefox: браузер запускается, но в нём не выполняются никакие действия, а через некоторое время тесты падают с сообщением об ошибке примерно такого вида:</p>
  <pre>Failed to start up socket within 45000 ms.<br />Attempted to connect to the following addresses: 127.0.0.1:7055</pre>
  <p>Как это ни парадоксально звучит, Selenium пострадал из-за того, что слишком хорошо работал :)</p>
  <p>Версия Selenium 2.42 оказалась достаточно стабильной, а синтезированные события наконец начали работать настолько хорошо, что справлялись даже с wysiwyg-редакторами, поэтому в течение длительного времени не было потребности выпускать новые релизы Selenium. И поэтому не обновлялся максимальный номер версии Firefox, с которым обеспечивается совместимость Selenium, там было указано значение 31, и предполагалось, что релиз Selenium 2.43 выйдет раньше, чем выйдет Firefox 32. Но, увы, получилось наоборот :(</p>
  <p>Конечно, скоро версия 2.43 будет выпущена, это вопрос нескольких дней.</p>
  <p>Но что можно сделать прямо сейчас, чтобы вернуть возможность запускать тесты в Firefox? Есть как минимум два варианта решения проблемы:</p>
  <p>1) Установить версию Firefox 31 ESR, дистрибутив можно взять тут: <a href="https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/31.1.0esr/">https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/31.1.0esr/</a></p>
  <p>2) Самостоятельно собрать Selenium из исходников и пользоваться этой самосборкой, пока не выйдет официальный релиз. Это не так уж сложно, не стоит бояться :)</p>
  <p>Итак, краткая инструкция по сборке Selenium (точнее говоря, той части, которая относится к разработке тестов на Java):</p>
  <ol>
  <li>Загрузить исходный код.<br />Если умеете пользоваться git -- тогда смотрите сюда: https://code.google.com/p/selenium/source/checkout<br />Если не умеете пользоваться git -- тогда просто загрузите архив отсюда: https://code.google.com/p/selenium/source/list (там предлагается два варианта, либо zip, либо tar.gz, выбирайте сами, какой больше нравится) и распакуйте его</li>
  <li>Запустите консоль, перейдите в директорию, куда вы извлекли исходный код, и выполните команду<br />go release</li>
  <li>Когда сборка завершится, в подкаталоге build/dist появится файл selenium-server-standalone-2.42.2.jar, вот его и используйте, и да пребудет с вами сила!</li>
  </ol>
category: Новости
---
<p>На этой неделе вышла стабильная версия 32 браузера Firefox, и после обновления (которое у многих произошло автоматически) тесты, разработанные с использованием WebDriver, перестали выполняться в Firefox: браузер запускается, но в нём не выполняются никакие действия, а через некоторое время тесты падают с сообщением об ошибке примерно такого вида:</p>
<pre>Failed to start up socket within 45000 ms.<br />Attempted to connect to the following addresses: 127.0.0.1:7055</pre>
<p>Как это ни парадоксально звучит, Selenium пострадал из-за того, что слишком хорошо работал :)</p>
<p>Версия Selenium 2.42 оказалась достаточно стабильной, а синтезированные события наконец начали работать настолько хорошо, что справлялись даже с wysiwyg-редакторами, поэтому в течение длительного времени не было потребности выпускать новые релизы Selenium. И поэтому не обновлялся максимальный номер версии Firefox, с которым обеспечивается совместимость Selenium, там было указано значение 31, и предполагалось, что релиз Selenium 2.43 выйдет раньше, чем выйдет Firefox 32. Но, увы, получилось наоборот :(</p>
<p>Конечно, скоро версия 2.43 будет выпущена, это вопрос нескольких дней.</p>
<p>Но что можно сделать прямо сейчас, чтобы вернуть возможность запускать тесты в Firefox? Есть как минимум два варианта решения проблемы:</p>
<p>1) Установить версию Firefox 31 ESR, дистрибутив можно взять тут: <a href="https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/31.1.0esr/">https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/31.1.0esr/</a></p>
<p>2) Самостоятельно собрать Selenium из исходников и пользоваться этой самосборкой, пока не выйдет официальный релиз. Это не так уж сложно, не стоит бояться :)</p>
<p>Итак, краткая инструкция по сборке Selenium (точнее говоря, той части, которая относится к разработке тестов на Java):</p>
<ol>
<li>Загрузить исходный код.<br />Если умеете пользоваться git -- тогда смотрите сюда: https://code.google.com/p/selenium/source/checkout<br />Если не умеете пользоваться git -- тогда просто загрузите архив отсюда: https://code.google.com/p/selenium/source/list (там предлагается два варианта, либо zip, либо tar.gz, выбирайте сами, какой больше нравится) и распакуйте его</li>
<li>Запустите консоль, перейдите в директорию, куда вы извлекли исходный код, и выполните команду<br />go release</li>
<li>Когда сборка завершится, в подкаталоге build/dist появится файл selenium-server-standalone-2.42.2.jar, вот его и используйте, и да пребудет с вами сила!</li>
</ol>
